<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡πÉ‡∏´‡πâ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÄ‡∏î‡∏¥‡∏° */
      :root {
        --thai-primary: #059669;      /* emerald-600 */
        --thai-secondary: #0f766e;    /* teal-700 */
        --thai-accent: #a7f3d0;       /* emerald-200 */
        --ministry-orange: #ea580c;   /* orange-600 */
      }

      .bg-thai-primary { background-color: var(--thai-primary); }
      .bg-thai-secondary { background-color: var(--thai-secondary); }
      .bg-thai-accent { background-color: var(--thai-accent); }
      .text-thai-primary { color: var(--thai-primary); }
      .text-thai-secondary { color: var(--thai-secondary); }
      .text-ministry-orange { color: var(--ministry-orange); }
      .border-thai-secondary { border-color: var(--thai-secondary); }

      @keyframes fade-in {
        from { opacity: 0; transform: translateY(6px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .animate-fade-in { animation: fade-in 0.4s ease-out; }
    </style>
  </head>

  <body class="bg-gray-50 min-h-screen flex flex-col">
    <!-- Header -->
    <header class="bg-thai-primary shadow-lg text-white sticky top-0 z-50">
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col md:flex-row items-center justify-between"
      >
        <div class="flex items-center space-x-4">
          <div
            class="bg-white/10 p-2.5 rounded-lg backdrop-blur-sm border border-white/20 shadow-inner"
          >
            <!-- icon ‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ -->
            <span class="text-thai-secondary text-2xl">üìö</span>
          </div>
          <div>
            <h1
              class="text-xl md:text-2xl font-bold leading-tight tracking-tight"
            >
              ‡∏£‡∏∞‡∏ö‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô
            </h1>
            <p
              class="text-sm text-teal-100 font-medium opacity-90 flex items-center gap-1"
            >
              <span class="text-xs">üìç</span>
              ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô/‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î ‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡πÅ‡∏Å‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ø
            </p>
          </div>
        </div>
      </div>
    </header>

    <!-- Main -->
    <main class="flex-1">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Hero -->
        <section class="text-center py-8 md:py-12 px-4 animate-fade-in">
          <div
            class="inline-flex items-center justify-center p-4 bg-white rounded-full shadow-md mb-6"
          >
            <span class="text-thai-secondary text-3xl animate-pulse">üß≠</span>
          </div>
          <h2
            class="text-3xl md:text-4xl font-bold text-gray-800 mb-6 tracking-tight leading-tight"
          >
            ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ
            <span class="text-thai-primary block md:inline md:ml-2"
              >‡πÉ‡∏Å‡∏•‡πâ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì</span
            >
          </h2>
          <p
            class="text-gray-600 max-w-2xl mx-auto text-lg leading-relaxed"
          >
            ‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏π‡πÅ‡∏•‡∏∞‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÉ‡∏ô‡∏ä‡∏∏‡∏°‡∏ä‡∏ô
            ‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏Å‡∏±‡∏ö‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ/‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡πÅ‡∏Å‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ø
            ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà
          </p>
        </section>

        <!-- Search Form -->
        <section
          class="bg-white rounded-xl shadow-md border border-gray-200 p-6 mb-8 relative overflow-hidden"
        >
          <div
            class="absolute top-0 right-0 w-32 h-32 bg-thai-accent rounded-full -mr-10 -mt-10 opacity-50 z-0 pointer-events-none"
          ></div>

          <div class="relative z-10">
            <h2
              class="text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"
            >
              <span class="text-thai-primary text-xl">üó∫Ô∏è</span>
              ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô
            </h2>

            <form
              id="search-form"
              class="grid grid-cols-1 md:grid-cols-3 gap-6 items-end"
            >
              <!-- Province -->
              <div>
                <label
                  for="province"
                  class="block text-sm font-medium text-gray-700 mb-1"
                >
                  ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î <span class="text-red-500">*</span>
                </label>
                <div class="relative">
                  <select
                    id="province"
                    class="mt-1 block w-full rounded-lg border-gray-300 bg-gray-50 border py-2.5 px-3 shadow-sm focus:ring-thai-primary focus:border-thai-primary sm:text-sm transition-colors cursor-pointer hover:bg-white"
                  >
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î --</option>
                  </select>
                </div>
              </div>

              <!-- District -->
              <div>
                <label
                  for="district"
                  class="block text-sm font-medium text-gray-700 mb-1"
                >
                  ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠/‡πÄ‡∏Ç‡∏ï
                </label>
                <div class="relative">
                  <select
                    id="district"
                    disabled
                    class="mt-1 block w-full rounded-lg border border-gray-300 py-2.5 px-3 shadow-sm focus:ring-thai-primary focus:border-thai-primary sm:text-sm transition-all bg-gray-100 text-gray-400 cursor-not-allowed"
                  >
                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≥‡πÄ‡∏†‡∏≠/‡πÄ‡∏Ç‡∏ï (‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î) --</option>
                  </select>
                </div>
              </div>

              <!-- Submit Button -->
              <div class="flex md:justify-end">
                <button
                  id="search-button"
                  type="submit"
                  class="inline-flex items-center justify-center w-full md:w-auto px-6 py-2.5 rounded-lg text-white text-sm font-medium shadow-md transition-all transform active:scale-95 bg-thai-primary hover:bg-emerald-700 hover:shadow-lg"
                >
                  <span class="flex items-center gap-2">
                    <span class="text-sm">üîç</span>
                    ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
                  </span>
                </button>
              </div>
            </form>
          </div>
        </section>

        <!-- Results Container -->
        <section id="results-section">
          <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏ï‡∏¥‡∏°‡∏î‡πâ‡∏ß‡∏¢ JS: header + list ‡∏´‡∏£‡∏∑‡∏≠ empty state -->
        </section>
      </div>
    </main>

    <!-- Footer -->
    <footer
      class="bg-gray-800 text-gray-400 py-8 mt-auto border-t border-gray-700"
    >
      <div class="max-w-7xl mx-auto px-4 text-center">
        <p class="text-sm font-light">
          ¬© <span id="footer-year"></span>
          ‡∏£‡∏∞‡∏ö‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
        </p>
        <p class="text-xs text-gray-500 mt-2">
          ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ä‡∏∏‡∏°‡∏ä‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô
        </p>
      </div>
    </footer>

    <!-- JavaScript -->
    <script>
      // ----------------------------
      // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î & ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡πà‡∏≠)
      // ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏≠‡∏á‡∏ï‡∏≤‡∏° constants.ts
      // ----------------------------
      const THAI_PROVINCES = [
        "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£",
        "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà",
        "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢",
        "‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤",
        "‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô",
        "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ"
      ];

      const PROVINCE_DISTRICTS = {
        "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£": [
          "‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£",
          "‡∏î‡∏∏‡∏™‡∏¥‡∏ï",
          "‡∏´‡∏ô‡∏≠‡∏á‡∏à‡∏≠‡∏Å",
          "‡∏ö‡∏≤‡∏á‡∏£‡∏±‡∏Å",
          "‡∏ö‡∏≤‡∏á‡πÄ‡∏Ç‡∏ô",
          "‡∏ö‡∏≤‡∏á‡∏Å‡∏∞‡∏õ‡∏¥"
        ],
        "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà": [
          "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà",
          "‡∏à‡∏≠‡∏°‡∏ó‡∏≠‡∏á",
          "‡πÅ‡∏°‡πà‡πÅ‡∏à‡πà‡∏°",
          "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏î‡∏≤‡∏ß",
          "‡πÅ‡∏°‡πà‡πÅ‡∏ï‡∏á"
        ],
        "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢": [
          "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢",
          "‡πÄ‡∏ß‡∏µ‡∏¢‡∏á‡∏ä‡∏±‡∏¢",
          "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏Ç‡∏≠‡∏á",
          "‡πÄ‡∏ó‡∏¥‡∏á",
          "‡∏û‡∏≤‡∏ô"
        ],
        "‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤": [
          "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤",
          "‡∏Ñ‡∏£‡∏ö‡∏∏‡∏£‡∏µ",
          "‡πÄ‡∏™‡∏¥‡∏á‡∏™‡∏≤‡∏á",
          "‡∏Ñ‡∏á",
          "‡∏Ç‡∏≤‡∏°‡∏ó‡∏∞‡πÄ‡∏•‡∏™‡∏≠"
        ],
        "‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô": [
          "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô",
          "‡∏ö‡πâ‡∏≤‡∏ô‡∏ù‡∏≤‡∏á",
          "‡∏û‡∏£‡∏∞‡∏¢‡∏∑‡∏ô",
          "‡∏´‡∏ô‡∏≠‡∏á‡πÄ‡∏£‡∏∑‡∏≠",
          "‡∏ä‡∏∏‡∏°‡πÅ‡∏û"
        ],
        "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ": [
          "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ",
          "‡∏ö‡πâ‡∏≤‡∏ô‡∏ö‡∏∂‡∏á",
          "‡∏´‡∏ô‡∏≠‡∏á‡πÉ‡∏´‡∏ç‡πà",
          "‡∏ö‡∏≤‡∏á‡∏•‡∏∞‡∏°‡∏∏‡∏á",
          "‡∏û‡∏≤‡∏ô‡∏ó‡∏≠‡∏á"
        ]
      };

      // ----------------------------
      // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ (‡∏¢‡πà‡∏≠‡∏à‡∏≤‡∏Å SAMPLE_RESOURCES)
      // ----------------------------
      const SAMPLE_RESOURCES = [
        {
          id: "bkk-1",
          name: "‡∏ß‡∏±‡∏î‡∏û‡∏£‡∏∞‡πÅ‡∏Å‡πâ‡∏ß ‡πÅ‡∏•‡∏∞‡∏û‡∏£‡∏∞‡∏ö‡∏£‡∏°‡∏°‡∏´‡∏≤‡∏£‡∏≤‡∏ä‡∏ß‡∏±‡∏á",
          province: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£",
          district: "‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£",
          description:
            "‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏° ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏ó‡∏¢ ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏≤‡∏ï‡∏¥ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏ö‡∏ö‡∏ö‡∏π‡∏£‡∏ì‡∏≤‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏≤‡∏¢‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞",
          subjects: ["‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤", "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", "‡∏®‡∏¥‡∏•‡∏õ‡∏∞"],
          standards: ["‡∏™ 4.1 ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡πÑ‡∏ó‡∏¢", "‡∏® 1.1 ‡∏ä‡∏∑‡πà‡∏ô‡∏ä‡∏°‡∏®‡∏¥‡∏•‡∏õ‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡πÑ‡∏ó‡∏¢"],
          tags: ["‡πÇ‡∏ö‡∏£‡∏≤‡∏ì‡∏™‡∏ñ‡∏≤‡∏ô", "‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°", "‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏ä‡∏ß‡∏±‡∏á"],
          imageUrl: "https://picsum.photos/seed/bkk-1/600/400"
        },
        {
          id: "bkk-2",
          name: "‡∏û‡∏¥‡∏û‡∏¥‡∏ò‡∏†‡∏±‡∏ì‡∏ë‡∏™‡∏ñ‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥ ‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£",
          province: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£",
          district: "‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£",
          description:
            "‡∏®‡∏π‡∏ô‡∏¢‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏ö‡∏£‡∏≤‡∏ì‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ ‡∏®‡∏¥‡∏•‡∏õ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏ä‡∏≤‡∏ï‡∏¥‡πÑ‡∏ó‡∏¢ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏ä‡∏¥‡∏á‡∏™‡∏∑‡∏ö‡πÄ‡∏™‡∏≤‡∏∞‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ó‡∏≥‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô",
          subjects: ["‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤", "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå"],
          standards: ["‡∏™ 4.3 ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå"],
          tags: ["‡∏û‡∏¥‡∏û‡∏¥‡∏ò‡∏†‡∏±‡∏ì‡∏ë‡πå", "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå"],
          imageUrl: "https://picsum.photos/seed/bkk-2/600/400"
        },
        {
          id: "chiangmai-1",
          name: "‡∏ß‡∏±‡∏î‡∏û‡∏£‡∏∞‡∏ò‡∏≤‡∏ï‡∏∏‡∏î‡∏≠‡∏¢‡∏™‡∏∏‡πÄ‡∏ó‡∏û‡∏£‡∏≤‡∏ä‡∏ß‡∏£‡∏ß‡∏¥‡∏´‡∏≤‡∏£",
          province: "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà",
          district: "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà",
          description:
            "‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏®‡∏≤‡∏™‡∏ô‡∏≤ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô ‡πÅ‡∏•‡∏∞‡∏†‡∏π‡∏°‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û ‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å‡∏°‡∏∏‡∏°‡∏™‡∏π‡∏á",
          subjects: ["‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤", "‡∏†‡∏π‡∏°‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå"],
          standards: ["‡∏™ 1.1 ‡∏®‡∏≤‡∏™‡∏ô‡∏≤‡∏Å‡∏±‡∏ö‡∏ß‡∏¥‡∏ñ‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï", "‡∏™ 5.1 ‡∏†‡∏π‡∏°‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô"],
          tags: ["‡∏ß‡∏±‡∏î", "‡∏†‡∏π‡πÄ‡∏Ç‡∏≤", "‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß"],
          imageUrl: "https://picsum.photos/seed/cm-1/600/400"
        },
        {
          id: "chon-1",
          name: "‡∏û‡∏¥‡∏û‡∏¥‡∏ò‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏û‡∏∏‡∏ó‡∏ò‡∏°‡∏ì‡∏ë‡∏• ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ",
          province: "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ",
          district: "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ",
          description:
            "‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏û‡∏£‡∏∞‡∏û‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ô‡∏≤ ‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÑ‡∏ó‡∏¢ ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏° ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏ò‡∏£‡∏£‡∏°",
          subjects: ["‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤", "‡∏®‡∏¥‡∏•‡∏õ‡∏∞"],
          standards: ["‡∏™ 1.1", "‡∏® 1.1"],
          tags: ["‡∏®‡∏≤‡∏™‡∏ô‡∏≤", "‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°"],
          imageUrl: "https://picsum.photos/seed/chon-1/600/400"
        }
      ];

      // ----------------------------
      // utility: ‡∏™‡∏£‡πâ‡∏≤‡∏á fallback resource ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏ô‡∏±‡πâ‡∏ô
      // ----------------------------
      function createFallbackResources(province, district) {
        const cityDistrict = district || "‡πÄ‡∏°‡∏∑‡∏≠‡∏á" + province;
        return [
          {
            id: `fallback-temple-${province}-${district || "all"}`,
            name: `‡∏ß‡∏±‡∏î‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏≠‡∏≥‡πÄ‡∏†‡∏≠${cityDistrict}`,
            province,
            district: cityDistrict,
            description:
              "‡∏ß‡∏±‡∏î‡πÉ‡∏ô‡∏ä‡∏∏‡∏°‡∏ä‡∏ô‡∏ã‡∏∂‡πà‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏®‡∏≤‡∏™‡∏ô‡∏≤ ‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏° ‡∏ß‡∏¥‡∏ñ‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï ‡πÅ‡∏•‡∏∞‡∏†‡∏π‡∏°‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ",
            subjects: ["‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤", "‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢"],
            standards: ["‡∏™ 1.1", "‡∏ó 1.1"],
            tags: ["‡∏ß‡∏±‡∏î", "‡∏ä‡∏∏‡∏°‡∏ä‡∏ô", "‡∏†‡∏π‡∏°‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô"],
            imageUrl: "https://picsum.photos/seed/fallback-temple/600/400"
          },
          {
            id: `fallback-cultural-${province}-${district || "all"}`,
            name: `‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô‡∏≠‡∏≥‡πÄ‡∏†‡∏≠${cityDistrict}`,
            province,
            district: cityDistrict,
            description:
              "‡πÅ‡∏´‡∏•‡πà‡∏á‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô ‡∏†‡∏π‡∏°‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤ ‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏´‡∏±‡∏ï‡∏ñ‡∏Å‡∏£‡∏£‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏ö‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô (Project-based Learning)",
            subjects: ["‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤", "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå"],
            standards: ["‡∏™ 4.1", "‡∏™ 4.3"],
            tags: ["‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°", "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", "‡∏ä‡∏∏‡∏°‡∏ä‡∏ô"],
            imageUrl: "https://picsum.photos/seed/fallback-cultural/600/400"
          }
        ];
      }

      // ----------------------------
      // DOM elements
      // ----------------------------
      const provinceSelect = document.getElementById("province");
      const districtSelect = document.getElementById("district");
      const searchForm = document.getElementById("search-form");
      const searchButton = document.getElementById("search-button");
      const resultsSection = document.getElementById("results-section");
      const footerYear = document.getElementById("footer-year");

      footerYear.textContent = new Date().getFullYear();

      // ----------------------------
      // ‡πÄ‡∏ï‡∏¥‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏•‡∏á select
      // ----------------------------
      function populateProvinces() {
        THAI_PROVINCES.sort((a, b) => a.localeCompare(b, "th"));
        THAI_PROVINCES.forEach((p) => {
          const option = document.createElement("option");
          option.value = p;
          option.textContent = p;
          provinceSelect.appendChild(option);
        });
      }

      populateProvinces();

      // ----------------------------
      // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î -> ‡πÇ‡∏´‡∏•‡∏î‡∏≠‡∏≥‡πÄ‡∏†‡∏≠
      // ----------------------------
      provinceSelect.addEventListener("change", () => {
        const province = provinceSelect.value;
        const districts = PROVINCE_DISTRICTS[province] || [];

        // reset district select
        districtSelect.innerHTML =
          '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≥‡πÄ‡∏†‡∏≠/‡πÄ‡∏Ç‡∏ï (‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î) --</option>';

        if (districts.length > 0) {
          districts
            .slice()
            .sort((a, b) => a.localeCompare(b, "th"))
            .forEach((d) => {
              const opt = document.createElement("option");
              opt.value = d;
              opt.textContent = d;
              districtSelect.appendChild(opt);
            });

          districtSelect.disabled = false;
          districtSelect.classList.remove(
            "bg-gray-100",
            "text-gray-400",
            "cursor-not-allowed"
          );
          districtSelect.classList.add("bg-gray-50", "cursor-pointer");
        } else {
          districtSelect.disabled = true;
          districtSelect.classList.add(
            "bg-gray-100",
            "text-gray-400",
            "cursor-not-allowed"
          );
          districtSelect.classList.remove("bg-gray-50", "cursor-pointer");
        }
      });

      // ----------------------------
      // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô render: Empty State
      // ----------------------------
      function renderEmptyState() {
        resultsSection.innerHTML = `
          <div class="text-center py-20 bg-white rounded-xl shadow-sm border border-dashed border-gray-300 animate-fade-in">
            <div class="bg-gray-50 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-3xl text-gray-400">üîé</span>
            </div>
            <p class="text-gray-600 text-lg font-medium">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</p>
            <p class="text-gray-400 text-sm mt-1">
              ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î
            </p>
          </div>
        `;
      }

      // ----------------------------
      // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á HTML ‡∏Ç‡∏≠‡∏á Resource Card
      // ----------------------------
      function createResourceCardHTML(resource) {
        const standardsList = resource.standards || [];
        const tagsList = resource.tags || [];
        const subjectsList = resource.subjects || [];

        const shownStandards = standardsList.slice(0, 2);
        const extraCount =
          standardsList.length > 2 ? standardsList.length - 2 : 0;

        return `
          <article class="bg-white rounded-xl shadow-md hover:shadow-xl border border-gray-200 overflow-hidden flex flex-col transition-all duration-300 transform hover:-translate-y-1 group h-full">
            <!-- Header -->
            <div class="bg-gradient-to-r from-thai-accent to-white px-5 py-4 border-b border-gray-100 relative">
              <div class="absolute top-0 left-0 w-1 h-full bg-thai-secondary"></div>
              <h4 class="font-bold text-gray-800 text-lg line-clamp-2 group-hover:text-thai-primary transition-colors h-14 flex items-center">
                ${resource.name}
              </h4>
              <div class="flex items-center gap-1 text-xs text-gray-500 mt-1.5">
                <span class="text-xs">üìç</span>
                <span class="truncate">‡∏à.${resource.province} ‚Ä¢ ‡∏≠.${resource.district}</span>
              </div>
            </div>

            <!-- Image -->
            <div class="h-48 bg-gray-100 w-full overflow-hidden relative">
              <img
                src="${resource.imageUrl || "https://picsum.photos/seed/default/600/400"}"
                alt="${resource.name}"
                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                loading="lazy"
              />
              <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-60 group-hover:opacity-40 transition-opacity"></div>
            </div>

            <!-- Content -->
            <div class="p-5 flex flex-col gap-4 flex-grow">
              <p class="text-sm text-gray-600 leading-relaxed line-clamp-3 min-h-[4.5em]">
                ${resource.description || ""}
              </p>

              <div class="space-y-3 mt-auto">
                <!-- Subjects -->
                <div class="text-xs">
                  <p class="font-semibold text-gray-700 mb-1.5 flex items-center gap-1.5">
                    <span class="text-[13px]">üìò</span>
                    ‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ:
                  </p>
                  <p class="text-gray-600 pl-5 line-clamp-1">
                    ${subjectsList.join(" ‚Ä¢ ")}
                  </p>
                </div>

                <!-- Standards -->
                <div class="text-xs bg-gray-50 p-2.5 rounded-lg border border-gray-100">
                  <p class="font-semibold text-gray-700 mb-1.5 flex items-center gap-1.5">
                    <span class="text-ministry-orange text-[13px]">‚úîÔ∏è</span>
                    ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô/‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î:
                  </p>
                  <ul class="text-gray-600 space-y-1 pl-1">
                    ${shownStandards
                      .map(
                        (s) => `
                        <li class="flex items-start gap-1.5 line-clamp-1">
                          <span class="block w-1 h-1 rounded-full bg-gray-400 mt-1.5 flex-shrink-0"></span>
                          <span>${s}</span>
                        </li>
                      `
                      )
                      .join("")}
                    ${
                      extraCount > 0
                        ? `<li class="pl-2.5 text-gray-400 italic">...‡πÅ‡∏•‡∏∞‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏≠‡∏µ‡∏Å ${extraCount} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</li>`
                        : ""
                    }
                  </ul>
                </div>
              </div>

              <!-- Tags -->
              <div class="pt-3 border-t border-gray-100 flex flex-wrap gap-2">
                ${tagsList
                  .slice(0, 3)
                  .map(
                    (t) => `
                    <span
                      class="inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-teal-50 text-[11px] font-medium text-thai-primary border border-teal-100 whitespace-nowrap"
                    >
                      <span class="text-[11px]">üè∑Ô∏è</span>
                      ${t}
                    </span>
                  `
                  )
                  .join("")}
              </div>
            </div>
          </article>
        `;
      }

      // ----------------------------
      // render Resource List
      // ----------------------------
      function renderResources(resources) {
        if (!resources || resources.length === 0) {
          renderEmptyState();
          return;
        }

        const headerHTML = `
          <div class="flex items-center justify-between mb-6 animate-fade-in">
            <h3 class="text-lg font-semibold text-gray-700 border-l-4 border-thai-secondary pl-3">
              ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:
              <span class="text-thai-primary font-bold text-xl">${resources.length}</span>
              ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
            </h3>
            <span class="hidden sm:inline-block text-xs text-gray-500 bg-white border border-gray-200 px-3 py-1 rounded-full shadow-sm">
              Local Learning Resources
            </span>
          </div>
        `;

        const gridHTML = `
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            ${resources.map((r) => createResourceCardHTML(r)).join("")}
          </div>
        `;

        resultsSection.innerHTML = headerHTML + gridHTML;
      }

      // ----------------------------
      // handle submit
      // ----------------------------
      searchForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const province = provinceSelect.value.trim();
        const district = districtSelect.value.trim();

        if (!province) {
          alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤");
          return;
        }

        // ‡∏õ‡∏∏‡πà‡∏° loading ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ (‡∏™‡∏±‡πâ‡∏ô ‡πÜ)
        searchButton.disabled = true;
        searchButton.classList.add("opacity-80", "cursor-not-allowed");
        searchButton.innerHTML = `
          <span class="flex items-center gap-2">
            <span class="animate-spin inline-block">‚è≥</span>
            ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...
          </span>
        `;

        setTimeout(() => {
          // filter resources
          let results = SAMPLE_RESOURCES.filter((r) => r.province === province);
          if (district) {
            results = results.filter((r) => r.district === district);
          }

          // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏ö ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏∏‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ -> ‡∏™‡∏£‡πâ‡∏≤‡∏á fallback
          if (results.length === 0 && district) {
            results = createFallbackResources(province, district);
          } else if (results.length === 0 && !district) {
            // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠) -> ‡∏™‡∏£‡πâ‡∏≤‡∏á fallback ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î
            results = createFallbackResources(province, "");
          }

          renderResources(results);

          // reset ‡∏õ‡∏∏‡πà‡∏°
          searchButton.disabled = false;
          searchButton.classList.remove("opacity-80", "cursor-not-allowed");
          searchButton.innerHTML = `
            <span class="flex items-center gap-2">
              <span class="text-sm">üîç</span>
              ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
            </span>
          `;
        }, 300);
      });

      // ‡πÅ‡∏™‡∏î‡∏á empty state ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
      renderEmptyState();
    </script>
  </body>
</html>
